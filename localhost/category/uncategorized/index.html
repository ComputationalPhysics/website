<!DOCTYPE html>
<!--[if IE 7 | IE 8]>
<html class="ie" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->

<!-- Mirrored from localhost/category/uncategorized/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 11:24:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>Uncategorized | Computational Physics</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="../../xmlrpc.php" />
<!--[if lt IE 9]>
<script src="wp-content/themes/twentytwelve/js/html5.js" type="text/javascript"></script>
<![endif]-->

<script type='text/x-mathjax-config'>
MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true}});
</script>
<link rel='dns-prefetch' href='http://s0.wp.com/' />
<link rel='dns-prefetch' href='http://cdn.mathjax.org/' />
<link rel='dns-prefetch' href='http://s.gravatar.com/' />
<link rel='dns-prefetch' href='http://fonts.googleapis.com/' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link href='https://fonts.gstatic.com/' crossorigin rel='preconnect' />
<link rel="alternate" type="application/rss+xml" title="Computational Physics &raquo; Feed" href="../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Computational Physics &raquo; Comments Feed" href="../../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Computational Physics &raquo; Uncategorized Category Feed" href="feed/index.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/localhost\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='dropshadowboxes_css-css'  href='../../wp-content/plugins/drop-shadow-boxes/css/dropshadowboxes2846.css?ver=1.5.5' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-fonts-css'  href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&amp;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-style-css'  href='../../wp-content/themes/compphys/style4906.css?ver=4.7' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='wp-content/themes/twentytwelve/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='jquery.lightbox.min.css-css'  href='../../wp-content/plugins/wp-jquery-lightbox/styles/lightbox.min5f04.css?ver=1.4.6' type='text/css' media='all' />
<script type='text/javascript' src='../../wp-includes/js/jquery/jqueryb8ff.js?ver=1.12.4'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-migrate.min330a.js?ver=1.4.1'></script>
<script type='text/javascript' src='../../wp-content/plugins/cpu-reporter/jquery.flot4906.js?ver=4.7'></script>
<script type='text/javascript' src='../../wp-content/plugins/cpu-reporter/jquery.flot.pie.min4906.js?ver=4.7'></script>
<script type='text/javascript' src='http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2CSafe.js&amp;ver=4.7'></script>
<link rel='https://api.w.org/' href='../../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.7" />

<link rel='dns-prefetch' href='http://v0.wordpress.com/'>
	<style type="text/css" id="twentytwelve-header-css">
			.site-title,
		.site-description {
			position: absolute;
			clip: rect(1px 1px 1px 1px); /* IE7 */
			clip: rect(1px, 1px, 1px, 1px);
		}
		</style>
	<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style>
<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>

<body class="archive category category-uncategorized category-1 custom-background custom-background-white custom-font-enabled">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<hgroup>
			<h1 class="site-title"><a href="../../index.html" title="Computational Physics" rel="home">Computational Physics</a></h1>
			<h2 class="site-description">Exploring physics beyond what can be counted by hand</h2>
		</hgroup>

                                        <a href="../../index.html"><img src="wp-content/uploads/2012/11/cropped-heading6.png" class="header-image" width="360" height="94" alt="" /></a>
                
		<nav id="site-navigation" class="main-navigation" role="navigation">
			<h3 class="menu-toggle">Menu</h3>
			<div class="skip-link assistive-text"><a href="#content" title="Skip to content">Skip to content</a></div>
			<div class="menu-main-menu-container"><ul id="menu-main-menu" class="nav-menu"><li id="menu-item-115" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-115"><a href="../../blog/index.html">Blog</a></li>
<li id="menu-item-601" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-601"><a href="../../software/index.html">Software</a></li>
<li id="menu-item-372" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-372"><a href="../../projects/index.html">Projects</a></li>
<li id="menu-item-96" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-96"><a href="../../courses/index.html">Courses</a></li>
<li id="menu-item-99" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-99"><a href="../../thesises/index.html">Theses</a></li>
<li id="menu-item-98" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-98"><a href="../../people/index.html">People</a></li>
<li id="menu-item-411" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-411"><a href="">About</a></li>
<li id="menu-item-877" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-877"><a href="../../events/index.html">Events</a></li>
<li id="menu-item-434" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-434"><a href="../../internals/index.html">Internals</a>
<ul class="sub-menu">
	<li id="menu-item-426" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-426"><a href="../../internals/index.html">Getting started</a></li>
	<li id="menu-item-669" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-669"><a href="../../cluster-info/using-smaug/index.html">Computing Cluster</a></li>
	<li id="menu-item-974" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-974"><a href="../../coding-style/index.html">Coding style</a></li>
</ul>
</li>
</ul></div>		</nav><!-- #site-navigation -->
	</header><!-- #masthead -->
	
	<div style="clear:both;"></div>

	<div id="main" class="wrapper">
	<section id="primary" class="site-content">
		<div id="content" role="main">

					<header class="archive-header">
				<h1 class="archive-title">Category Archives: <span>Uncategorized</span></h1>

						</header><!-- .archive-header -->

			
	<article id="post-832" class="post-832 post type-post status-publish format-standard hentry category-uncategorized">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="../../2014/09/16/find-usages-keybind-broken-qtcreator/index.html" title="Permalink to Find Usages Keybind broken in QtCreator" rel="bookmark">Find Usages Keybind broken in QtCreator</a>
			</h1>
										<div class="comments-link">
					<a href="../../2014/09/16/find-usages-keybind-broken-qtcreator/index.html#comments">1 Reply</a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Hey,</p>
<p>so I&#8217;ve had the issue lately that Ctrl+Shift+U was broken on my keyboard when I upgraded to Ubuntu 14.04. My editor went nuts when I pressed it, overwriting parts of the highlighted word that was not even under the cursor. It was a mess.</p>
<p>Anyways, I stumbled upon the fix today. Simply got to Language Support in Ubuntu (available from the search thingie) and switch Keyboard Input Method to &#8220;None&#8221; and restart your computer.</p>
<p>My Alt+Enter is still broken tho, but you can only be so lucky.</p>
<p>&nbsp;</p>
<p>Cheers</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="index.html" rel="category tag">Uncategorized</a> on <a href="../../2014/09/16/find-usages-keybind-broken-qtcreator/index.html" title="16:17" rel="bookmark"><time class="entry-date" datetime="2014-09-16T16:17:09+00:00">16 September, 2014</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../author/jorgen/index.html" title="View all posts by JÃ¸rgen HÃ¸gberget" rel="author">JÃ¸rgen HÃ¸gberget</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->

	<article id="post-825" class="post-825 post type-post status-publish format-standard hentry category-uncategorized">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="../../2014/09/16/pycharm-for-qtcreator-fanatics/index.html" title="Permalink to PyCharm Keymap for QtCreator Fanatics" rel="bookmark">PyCharm Keymap for QtCreator Fanatics</a>
			</h1>
										<div class="comments-link">
					<a href="../../2014/09/16/pycharm-for-qtcreator-fanatics/index.html#comments">1 Reply</a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Hey,</p>
<p>I am a <a href="http://qt-project.org/wiki/category:Tools::QtCreator">QtCreator </a>fanatic. I cannot work in an editor without all the support QtCreator offers. Which is alot. Following is a list of translation between QtCreator and <a href="http://www.jetbrains.com/pycharm/download/">PyCharm </a>when it comes to some core functionality (sorry about the messy list):</p>
<ul>
<li>Inline replace: QtCreator: Ctrl+Shift+R &#8211; PyCharm: Shift+F6</li>
<li>Search/Replace current window: QtCreator: Ctrl+F &#8211; PyCharm: Ctrl+R</li>
<li>Search/Replace anywhere: QtCreator: Ctrl+Shift+F : PyCharm: Ctrl+Shift+F/Ctrl+Shift+R (PyCharm needs a standalone replace anywhere, since Python variables is impossible to track completely. Hence you do not want to use replace anywhere in PyCharm unless you are extremely confident.)</li>
<li>Jump to declaration: QtCreator: F2 &#8211; PyCharm: Ctrl+B</li>
<li>Close active tab: QtCreator: Ctrl+W &#8211; PyCharm: Ctrl+F4</li>
<li>Nagivate Forward/Backward: QtCreator: Alt+Right/Left &#8211; PyCharm: Ctrl+Alt+Right/Left (Overridden by workspace navigation on linux)</li>
<li>List of tabs: QtCreator: Ctrl+Shift+Tab &#8211; PyCharm: Ctrl+Tab</li>
<li>Next tab: QtCtreator: Ctrl+Tab &#8211; PyCharm: Alt+Right</li>
<li>Splits and new window: QtCreator: Ctrl+E + (2,3,4) &#8211; PyCharm: Unassigned and Shift+F4</li>
<li>Run program: QtCreator: Ctrl+R &#8211; PyCharm: Shift+F10</li>
<li>Navigate Symbols: QtCreator: Ctrl+K + . Â &#8211; PyCharm: Ctrl+Shift+Alt+N</li>
<li>Navigate file: QtCreator: Ctrl+K &#8211; PyCharm: Ctrl+Shift+N (Here I recomment using Ctrl+K + F)</li>
<li>Navigate class: QtCreator: Ctrl+K + C &#8211; PyCharm: Ctrl+Shift+C</li>
<li>Navigate all: Â QtCreator: UnknownÂ &#8211; PyCharm: Ctrl+K (Here I recommend using Ctrl+K + A)</li>
<li>Goto line: QtCreator: Ctrl+K + [line number] &#8211; PyCharm: Ctrl+G (Here I recommend using Ctrl+K + G)</li>
<li>Comment: QtCreator: Ctrl+\ &#8211; PyCharm: Same but doesn&#8217;t support Ctrl+Shift+7 on norwegian keyboards.</li>
<li>Find Usages: QtCreator: Ctrl+U &#8211; PyCharm: Alt+F7</li>
</ul>
<p>I&#8217;ve exported the <a href="http://jorgenhogberget.com/stuff/PyCharmQtCreatorKeyMap.jar">keymaps to a file which you can download</a> and File+Import Settings once you&#8217;re in PyCharm.</p>
<p>&nbsp;</p>
<p>Enjoy!</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="index.html" rel="category tag">Uncategorized</a> on <a href="../../2014/09/16/pycharm-for-qtcreator-fanatics/index.html" title="11:22" rel="bookmark"><time class="entry-date" datetime="2014-09-16T11:22:28+00:00">16 September, 2014</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../author/jorgen/index.html" title="View all posts by JÃ¸rgen HÃ¸gberget" rel="author">JÃ¸rgen HÃ¸gberget</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->

	<article id="post-814" class="post-814 post type-post status-publish format-standard hentry category-uncategorized">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="../../2014/09/03/fixing-gdb-issues-with-gcc-4-8-x-and-c11/index.html" title="Permalink to Fixing GDB issues with GCC 4.8.x and C++11" rel="bookmark">Fixing GDB issues with GCC 4.8.x and C++11</a>
			</h1>
										<div class="comments-link">
					<a href="../../2014/09/03/fixing-gdb-issues-with-gcc-4-8-x-and-c11/index.html#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Hey champs,</p>
<p>I recently discovered that the version of gdb that comes with Ubuntu 14.04 is not completelyÂ compatible with the version of gcc that comes with 14.04, that is, gcc 4.8.</p>
<p>Typical signs of misbehavior is that the debugger ends immediately, which is because gdbÂ segfaults when it runs your program, or that the expressions and locals tab is empty in your IDE, or that several functions are skipped in your stack trace.</p>
<p>You can resolve these issues by installing gcc 4.7, however, you will then lose some C++11 functionality such as e.g. constructor inheritance.</p>
<p>Another more technical way of resolving these issues perfectly is to install gdbÂ 4.8. This can be done in the following way:</p>
<ol>
<li><a href="http://ftp.gnu.org/gnu/gdb/gdb-7.8.tar.gz">Download</a> and unpack gdb 4.8.</li>
<li>Enter the unpacked folder and run &#8216;<i>cc=gcc ./configure&#8217;</i></li>
<li>Build gdb by runningÂ <em>make</em> in the directory</li>
<li>If the build fails, you might need to install some more packages, such asÂ <em>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &#8216;sudo apt-get install libncurses5-dev&#8217;</em></li>
<li>Install gdb by running &#8216;<em>sudo</em>Â <em>make install&#8217;Â </em>in the directory (note that the build needs to be complete). It will install in <i>/usr/local/bin/gdb.</i></li>
<li>Remove the old version of gdb by running &#8216;<em>sudo apt-get remove gdb</em>&#8216;</li>
<li>Create a new symlink toÂ gdb by running &#8216;<em>sudo</em>Â <i>ln -s /usr/local/bin/gdb /usr/bin/gdb</i>&#8216;</li>
</ol>
<p>And you should be good to go ðŸ™‚</p>
<p>Enjoy!</p>
<p><span style="line-height: 24px;">Â </span></p>
<p>&nbsp;</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="index.html" rel="category tag">Uncategorized</a> on <a href="../../2014/09/03/fixing-gdb-issues-with-gcc-4-8-x-and-c11/index.html" title="16:25" rel="bookmark"><time class="entry-date" datetime="2014-09-03T16:25:19+00:00">3 September, 2014</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../author/jorgen/index.html" title="View all posts by JÃ¸rgen HÃ¸gberget" rel="author">JÃ¸rgen HÃ¸gberget</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->

	<article id="post-792" class="post-792 post type-post status-publish format-standard hentry category-uncategorized">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="../../2014/07/09/circumventing-annoying-library-path-issues-with-qtcreator/index.html" title="Permalink to Circumventing annoying library path issues with QtCreator" rel="bookmark">Circumventing annoying library path issues with QtCreator</a>
			</h1>
										<div class="comments-link">
					<a href="../../2014/07/09/circumventing-annoying-library-path-issues-with-qtcreator/index.html#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Hey champs,</p>
<p>for a while now I&#8217;ve been a fan of the <a title="library/app code design" href="../../2014/03/24/structuring-larger-projects-using-qmake/index.html">library/app code design</a>Â (see also <a href="../../2014/03/13/new-project-structure-for-projects-in-qt-creator-with-unit-tests/index.html">this link</a>).</p>
<p>A downside of using such a library centeredÂ designÂ is that you have to care about your libary paths, or more specifically, that your library is seen by the <em>LD_LIBRARY_PATHÂ </em>environment variable. This is parallel to the python path and importing <em>.py</em> files.</p>
<p>PathsÂ are not usually an issue when working from the terminal, since we can easily include anything we want in theÂ <em>.bashrcÂ </em>or equivalent files which are loaded automatically at each terminal launch. This applies to QtCreator as well. All paths existing at the moment QtCreatorÂ is launched will be available to programs launched from within QtCreator.</p>
<p>The problem comes when we want to use the unity icon to launch QtCreator, that is, we do not launch a terminal, hence our environment may be lacking vital paths.</p>
<p>A solution to this issue is to manually add paths in the system environment variable table located in the build options of your project. But this is rather dull. Especially when you have several builds that rely on the same paths.</p>
<p>A better solution is to locate your <em>qtcreator.shÂ </em>file, which is located wherever your may have installed Qt in the first place (you can do a <em>locate qtcreator.shÂ </em>if you really can&#8217;t find it.) and add the following modifications to the thirdÂ last line:</p>
<p><em>LD_LIBRARY_PATH=[your custom paths]:[previous code]</em></p>
<p>whereÂ <em>[your custom paths]Â </em>are whichever paths you wantÂ QtCreator to access at any time in any project from anywhere. Remember to separate all your paths with a colon!</p>
<p>However, this is sadly not enough, since the unity launch app doesn&#8217;t launch QtCreator through the shell script, but rather directly through the executable. To change this, simply replace</p>
<p><em>Exec=/opt/Qt/Tools/QtCreator/bin/qtcreator</em></p>
<p>with</p>
<p><em>Exec=/opt/Qt/Tools/QtCreator/bin/qtcreator.sh</em></p>
<p>in the QtCreator .desktop file. The absolute path in the above codeÂ varies from installation to installation.</p>
<p>The .desktop file is calledÂ <em>DigiaQtOpenSource-qtcreator.desktopÂ </em>and is located in either yourÂ <em>/usr/share/applicationsÂ </em>folder if you used super user privileges when installing it, or <i>~/.local/share/applicationsÂ </i>if you did not.</p>
<p>You should now be good to go ðŸ™‚</p>
<p>&nbsp;</p>
<p>Enjoy!</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="index.html" rel="category tag">Uncategorized</a> on <a href="../../2014/07/09/circumventing-annoying-library-path-issues-with-qtcreator/index.html" title="19:34" rel="bookmark"><time class="entry-date" datetime="2014-07-09T19:34:15+00:00">9 July, 2014</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../author/jorgen/index.html" title="View all posts by JÃ¸rgen HÃ¸gberget" rel="author">JÃ¸rgen HÃ¸gberget</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->

	<article id="post-729" class="post-729 post type-post status-publish format-standard hentry category-uncategorized">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="../../2014/03/24/structuring-larger-projects-using-qmake/index.html" title="Permalink to Structuring large(r) projects using QMake" rel="bookmark">Structuring large(r) projects using QMake</a>
			</h1>
										<div class="comments-link">
					<a href="../../2014/03/24/structuring-larger-projects-using-qmake/index.html#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p><em>Note: This post overlaps / conflicts with some of the material dicussed <a href="../../2014/03/13/new-project-structure-for-projects-in-qt-creator-with-unit-tests/index.html">here</a>. So I excourage you to read both posts if you have not read the previous one already.</em></p>
<p>Hey champs,</p>
<p>first of all, let me just say that if you&#8217;re not using <a href="http://qt-project.org/wiki/Category:Tools::QtCreator">Qt Creator</a> for organizing and coding your projects, which uses <a href="http://qt-project.org/doc/qt-4.8/qmake-manual.html">QMake</a> intrinsically, the level of this post will be somewhat higher. Nevertheless, I&#8217;ll try to keep to the basics and explain things in a simply way, without all the <a href="http://idioms.thefreedictionary.com/jazz">jazz</a>. If you are interested in the jazz, however, I am very interested in discussing it in a separate post or in the comments / over some coffee.</p>
<p>So let&#8217;s get to it! This post is aimed at those who develop a code centered around the use solvers, i.e. one implementation of a specific algorithm. Examples could be Molecular Dynamics (MD), Variational Monte-Carlo, Coupled-Cluster, Hartree-Fock, and so on.</p>
<p><strong>Structure your code.</strong>Â Don&#8217;t mash all your files in the same folder. It&#8217;s ugly. I don&#8217;t care if you are using an <a href="http://en.wikipedia.org/wiki/Integrated_development_environment">IDE</a> which displays them in an organized fashion &#8211; it&#8217;s still ugly.</p>
<p><strong>Separate the source code from the rest of the project.Â </strong>Let&#8217;s say you&#8217;re coding MD. You may use your implementation to study numerous systems, e.g. basic tempering of Argon, phase coexistence simulations, and so on. A brute force way of implementing multiple uses of a solver is to <a href="http://www.tutorialspoint.com/cplusplus/cpp_switch_statement.htm">switch test</a> in the main file and finally simply call <em>run() </em>using whichever objects was initialized in the switch.</p>
<p>However, I will argue that this is a bad way of doing things. Your main file &#8220;main.cpp&#8221; will be awfully cluttered and a hazzle to work with. I would rather suggest you create a separate main file for each of the separate uses of the solver, e.g.</p>
<ul>
<li>&#8230;/MD/apps/argon/argonmain.cpp</li>
<li>&#8230;/MD/apps/phasecoexistence/phasecoexistencemain.cpp</li>
</ul>
<p>and put your source code in</p>
<ul>
<li>&#8230;/MD/src/</li>
</ul>
<p>Moreover, if your classes have subclass implementations, they shold be structured in the following way for maximum transparency:</p>
<ul>
<li>&#8230;/MD/src/superclass/superclass.h</li>
<li>&#8230;/MD/src/superclass/superclass.cpp</li>
</ul>
<ul>
<li>&#8230;/MD/src/superclass/subclass/subclass.h</li>
<li>&#8230;/MD/src/superclass/subclass/subclass.cpp</li>
</ul>
<p>Multiple main files require multiple <a href="http://en.wikipedia.org/wiki/Library_(computing)">executables</a>, as each executable is linked to one specific <a href="http://en.wikipedia.org/wiki/Entry_point">main function</a>. However, each of the main function reuse the same code for the algorithm. It is thus recommended to compile the source code to a <a href="http://en.wikipedia.org/wiki/Library_(computing)">shared library</a>. You can think if a library as an implementation with the main file removed; exactly what we need.</p>
<p>Another argument for using shared libraries, is that if you doÂ <a href="http://en.wikipedia.org/wiki/Unit_testing">unit testing</a>, you are guaranteed that the same machine code is used for testing and production runs.</p>
<p>Your library file should be placed in</p>
<ul>
<li>&#8230;/MD/lib/</li>
</ul>
<p>The last missing piece now is how to include the library <a href="http://www.cplusplus.com/forum/articles/10627/">headers</a> in the main files. The brute force way of doing this is to implement every single header that you need. This is unnecessary. Since the library is built already, there is no <a href="http://www.tutorialspoint.com/makefile/why_makefile.htm">advantage to gain</a> by not including every single header. So you should make a combined header</p>
<ul>
<li>&#8230;/MD/include/MD.h</li>
</ul>
<p>which includes everything you need to use the library to it&#8217;s fullest. For example:</p>
<p><div class='dropshadowboxes-container ' style='width:500px;'>
                            <div class='dropshadowboxes-drop-shadow dropshadowboxes-rounded-corners dropshadowboxes-inside-and-outside-shadow dropshadowboxes-lifted-both dropshadowboxes-effect-default' style=' border: 1px solid #dddddd; height:; background-color:#ffffff;    '>
                            <br />
#pragma once</p>
<p>#include &#8220;../src/stuff.h&#8221;</p>
<p>#include &#8220;../src/superclass/subclass/subclass.h&#8221;</p>
<p>&#8230;
                            </div>
                        </div><br />
</p>
<p>such that your main files can start like the following:</p>
<p><div class='dropshadowboxes-container ' style='width:500px;'>
                            <div class='dropshadowboxes-drop-shadow dropshadowboxes-rounded-corners dropshadowboxes-inside-and-outside-shadow dropshadowboxes-lifted-both dropshadowboxes-effect-default' style=' border: 1px solid #dddddd; height:; background-color:#ffffff;    '>
                            <br />
#include &lt;MD.h&gt;</p>
<p>int main() {</p>
<p>&#8230;</p>
<p><span style="line-height: 1.714285714; font-size: 1rem;">}</span>
                            </div>
                        </div><br />
</p>
<p>Do note that this header <em>should never be usedÂ </em>within the library itself,Â <em>only</em> by outside sources which link to the library directly (apps).</p>
<p><strong>So to recap</strong>, we&#8217;ve got some layers of structuring going on now:</p>
<ul>
<li>&#8230;/MD/src/ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &#8211;Â source code going into the MD solver</li>
</ul>
<ul>
<li>&#8230;/MD/lib/ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#8211; compiled MD shared library</li>
<li>&#8230;/MD/include/MD.h Â  Â &#8211; complete header for use in main.</li>
<li>&#8230;/MD/apps/ Â  Â  Â  Â  Â  Â  Â  Â  &#8211; specific implementations.</li>
</ul>
<p><strong>Setting up QMakeÂ </strong>for this structure is very simple. First of all we need</p>
<ul>
<li>&#8230;/MD/MD.pro</li>
</ul>
<p><div class='dropshadowboxes-container ' style=''>
                            <div class='dropshadowboxes-drop-shadow dropshadowboxes-rounded-corners dropshadowboxes-inside-and-outside-shadow dropshadowboxes-lifted-both dropshadowboxes-effect-default' style=' border: 1px solid #dddddd; height:; background-color:#ffffff;    '>
                            TEMPLATE = subdirs<br />
CONFIG += ordered</p>
<p>SUBDIRS += src apps</p>
<p>OTHER_FILES += Â $$PWD/include/MD.h
                            </div>
                        </div><br />
</p>
<p>This simply says that we are bulding multiple things; one thing located in <em>src</em>, and another thing located in <em>apps</em>. We are also keeping track of the file <em>MD.h</em>, but we are not using it to build anything.</p>
<p>then we need</p>
<ul>
<li>&#8230;/MD/src/src.pro</li>
</ul>
<p><div class='dropshadowboxes-container ' style=''>
                            <div class='dropshadowboxes-drop-shadow dropshadowboxes-rounded-corners dropshadowboxes-inside-and-outside-shadow dropshadowboxes-lifted-both dropshadowboxes-effect-default' style=' border: 1px solid #dddddd; height:; background-color:#ffffff;    '>
                            include(../defaults.pri)</p>
<p>TEMPLATE = lib<br />
TARGET = ../lib/MD</p>
<p>HEADERS = stuff.h superclass/superclass.h &#8230;</p>
<p>SOURCES = superclass/superclass.cpp &#8230;
                            </div>
                        </div><br />
</p>
<p>where theÂ <em>defaults.pri</em> file includes all the compiler information etc. that is general for everything you build. An example of this is listed <a href="https://github.com/jorgehog/kMC/blob/master/defaults.pri">here</a>.</p>
<p>finally, we need</p>
<ul>
<li>&#8230;/MD/apps/apps.pro</li>
</ul>
<p><div class='dropshadowboxes-container ' style=''>
                            <div class='dropshadowboxes-drop-shadow dropshadowboxes-rounded-corners dropshadowboxes-inside-and-outside-shadow dropshadowboxes-lifted-both dropshadowboxes-effect-default' style=' border: 1px solid #dddddd; height:; background-color:#ffffff;    '>
                            TEMPLATE = subdirs<br />
CONFIG += ordered</p>
<p>SUBDIRS += argon phasecoexistence &#8230;
                            </div>
                        </div><br />
</p>
<p><strong>Implementing an appÂ </strong>is then simply a matter of adding another subdir to the list of <em>apps.pro</em>, and setting up e.g.</p>
<ul>
<li>&#8230;/MD/apps/argon/argon.pro</li>
</ul>
<p><div class='dropshadowboxes-container ' style=''>
                            <div class='dropshadowboxes-drop-shadow dropshadowboxes-rounded-corners dropshadowboxes-inside-and-outside-shadow dropshadowboxes-lifted-both dropshadowboxes-effect-default' style=' border: 1px solid #dddddd; height:; background-color:#ffffff;    '>
                            include(../app_defaults.pri)</p>
<p>SOURCES = argonmain.cpp
                            </div>
                        </div><br />
</p>
<p>where</p>
<ul>
<li>&#8230;/MD/apps/app_defaults.pri</li>
</ul>
<p>looks something like this:</p>
<p><div class='dropshadowboxes-container ' style=''>
                            <div class='dropshadowboxes-drop-shadow dropshadowboxes-rounded-corners dropshadowboxes-inside-and-outside-shadow dropshadowboxes-lifted-both dropshadowboxes-effect-default' style=' border: 1px solid #dddddd; height:; background-color:#ffffff;    '>
                            include(../defaults.pri)</p>
<p>TEMPLATE = app<br />
CONFIG += console</p>
<p>INCLUDEPATH += $$TOP_PWD/include</p>
<p>LIBS += -L$$TOP_PWD/lib -lMD
                            </div>
                        </div><br />
</p>
<p>whereÂ <em>TOP_PWDÂ </em>is set in defaults.pri and references the top MD folder. All in all, this project file setup should enable the easy use of the library as introduced previously.</p>
<p><strong>Using this structure encourages external use of your codeÂ </strong>since it is already set up in such a way that it does not require recompilation and a messy ocean of headers to use. To ensure that all added apps can functionÂ <span style="text-decoration: underline;">independent of the source</span>Â (and thus more easily usable by others) the following lines can be added to the source project file, which ensures that your compiled library file will not remain at a distant build directory which other apps may not know about:</p>
<p><code> !equals(PWD, $${OUT_PWD}) {<br />
QMAKE_POST_LINK += $(COPY_DIR) $$OUT_PWD/../lib $$TOP_PWD<br />
}<br />
</code></p>
<p><strong>Moreover, you should enable <a href="http://en.wikipedia.org/wiki/Debug_symbol">debug symbols</a></strong> for your library, so that the debugger will be able to speficy where in your code it crashed (also in src.pro):</p>
<p><div class='dropshadowboxes-container ' style=''>
                            <div class='dropshadowboxes-drop-shadow dropshadowboxes-rounded-corners dropshadowboxes-inside-and-outside-shadow dropshadowboxes-lifted-both dropshadowboxes-effect-default' style=' border: 1px solid #dddddd; height:; background-color:#ffffff;    '>
                            QMAKE_LFLAGS += -g
                            </div>
                        </div><br />
</p>
<p>this is <strong>not default</strong>. however, you may keep this only for debug mode.</p>
<p><strong>For examples</strong> of setups using the methods introduced above, see for example my <a href="https://github.com/jorgehog/QMC2">quantum Monte-Carlo code</a>, or my <a href="https://github.com/jorgehog/kMC">kinetic Monte-Carlo code</a>.</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="index.html" rel="category tag">Uncategorized</a> on <a href="../../2014/03/24/structuring-larger-projects-using-qmake/index.html" title="15:31" rel="bookmark"><time class="entry-date" datetime="2014-03-24T15:31:18+00:00">24 March, 2014</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../author/jorgen/index.html" title="View all posts by JÃ¸rgen HÃ¸gberget" rel="author">JÃ¸rgen HÃ¸gberget</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->

	<article id="post-692" class="post-692 post type-post status-publish format-standard hentry category-c category-programming category-qt category-technical category-uncategorized tag-pri tag-pro tag-c tag-project tag-project-files tag-qmake tag-qt-2 tag-structure">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="../../2014/03/13/new-project-structure-for-projects-in-qt-creator-with-unit-tests/index.html" title="Permalink to New project structure for projects in Qt Creator with unit tests" rel="bookmark">New project structure for projects in Qt Creator with unit tests</a>
			</h1>
								</header><!-- .entry-header -->

				<div class="entry-content">
			<p><em><strong>Note:</strong> This is a new version of <a href="http://dragly.org/2013/04/19/setting-up-unittest-with-qt-creator/">an earlier post</a>, with a revised project structure.</em></p>
<p><em><strong>Note 2:</strong> See <a href="http://dragly.org/2015/11/24/getting-started-with-unit-tests-in-qt-creator-with-catch/">this post for the same project structure</a> using the even better Catch testing framework.</em></p>
<p>This post assumes that you are using a C++ testing framework such as UnitTest++. See <a title="Setting up UnitTest++ with Qt Creator in a nice project structure" href="http://dragly.org/2013/04/19/setting-up-unittest-with-qt-creator/">this earlier post</a> for some information on installing UnitTest++ on Ubuntu.</p>
<p>To get the most out UnitTest++ it is a good idea to integrate its output into the Qt Creator IDE. The way I have set this up in Qt Creator is with subprojects. One for the main project, which again is split into the app itself and a library, and one for the tests. In addition, I have a helper project file, named defaults.pri. The structure of the project is like this:</p>
<pre>MyProject
â”œâ”€ MyProject.pro
â”œâ”€ defaults.pri
â”œâ”€ app/
â”‚  â”œâ”€ app.pro
â”‚  â””â”€ main.cpp
â”œâ”€ src/
â”‚Â  â”œâ”€ src.pro
â”‚Â  â””â”€ myclass.cpp
â””â”€ tests/
Â Â  â”œâ”€ tests.pro
Â Â  â””â”€ main.cpp</pre>
<p>An <a href="https://github.com/ComputationalPhysics/qtcreator-project-structure">example project using this code structure</a> has been posted on Github by Filip Sund. (Thanks to Filip for doing this!)</p>
<p>The main project file, MyProject.pro will now be based on a subdirs template, and may look like this:</p>
<pre>TEMPLATE = subdirs
CONFIG+=ordered
SUBDIRS = \
    src \
    app \
    tests
app.depends = src
tests.depends = src</pre>
<p>The app.depends and tests.depends statements makes sure that the src project is compiled before the application and tests, because the src directory contains the library that will be used by both the app and the tests.</p>
<p>(<a href="http://dragly.org/2014/03/13/new-project-structure-for-projects-in-qt-creator-with-unit-tests/comment-page-1/#comment-19940">Thanks to Will</a> for noting that this works better for parallel builds with make -j 8 than my previous version only using CONFIG+=ordered. We should keep CONFIG+=ordered in there still, though, because depends doesn&#8217;t affect the order when using make install).</p>
<h2>defaults.pri</h2>
<p>Each of the other .pro files will include defaults.pri to have all the headers available. defaults.pri contains the following:</p>
<pre>INCLUDEPATH += $$PWD/src
SRC_DIR = $$PWD</pre>
<p>If the library, main program and tests use common libraries, it is very useful to have the defaults.pri define these dependencies too.</p>
<h2>./src</h2>
<p>In the src folder, I have myclass.cpp, which is the class that I want to use and test. The src.pro needs to compile to a library, so that it may be used both by app and tests, and could look something like this:</p>
<pre>include(../defaults.pri)
CONFIG -= qt

TARGET = myapp
TEMPLATE = lib

SOURCES += myclass.cpp
HEADERS += myclass.h</pre>
<p>What this class does is not so interesting, it could be anything. A simple example could be this header file:</p>
<pre class="brush:c++">#ifndef MYCLASS_H
#define MYCLASS_H

class MyClass {
public:
    double addition(double a, double b);
};

#endif // MYCLASS_H</pre>
<p>With this accompaning source file:</p>
<pre class="brush:c++">#include "myclass.h"

double MyClass::addition(double a, double b) {
    return a * b;
}</pre>
<h2>./app</h2>
<p>I only have a main.cpp file in app, because the app is basically just something that uses everything in the src folder. It will depend on the shared compiled library from src, and app.pro would look something like this:</p>
<pre>include(../defaults.pri)

TEMPLATE = app
CONFIG += console
CONFIG -= app_bundle
CONFIG -= qt

SOURCES += main.cpp

LIBS += -L../src -lmyapp</pre>
<p>The main.cpp file could be a simple program that uses MyClass:</p>
<pre class="brush:c++">#include &lt;myclass.h&gt;
#include &lt;iostream&gt;

using namespace std;

int main()
{
    MyClass adder;
    cout &lt;&lt; adder.addition(10, 20) &lt;&lt; endl;
    return 0;
}</pre>
<h2>./tests</h2>
<p>In the tests folder I have simply added a main.cpp which will run the tests. Then tests.pro has the following contents:</p>
<pre>include(../defaults.pri)
TEMPLATE = app

CONFIG   += console
CONFIG   -= app_bundle
CONFIG   -= qt

SOURCES += main.cpp

LIBS += -lunittest++ -L../src -lmyapp</pre>
<p>Which now links to the myapp library in addition to the unit tests.</p>
<p>The main.cpp in tests file which could contain the following, if we were to use UnitTest++ as our testing library:</p>
<pre class="brush:c++">#include &lt;unittest++/UnitTest++.h&gt;
#include &lt;myclass.h&gt;

TEST(MyMath) {
Â Â Â  MyClass my;
Â Â Â  CHECK(my.addition(3,4) == 7);
}

int main()
{
Â Â Â  return UnitTest::RunAllTests();
}</pre>
<p>This test will fail because my implementation of MyClass::addition is completely wrong:</p>
<pre class="brush:c++">class MyClass {
public:
Â Â Â  double addition(double a, double b) {
Â Â Â Â Â Â Â  return a * b;
Â Â Â  }
};</pre>
<p>Note that I&#8217;m including MyClass by through &lt;myclass.h&gt; which is possible because of the INCLUDEPATH variable in defaults.pri.</p>
<p>This is hopefully all you&#8217;ll need to define a project that compiles a library, as well as tests and an application using the library.</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="../programming/c/index.html" rel="category tag">C++</a>, <a href="../programming/index.html" rel="category tag">Programming</a>, <a href="../programming/qt/index.html" rel="category tag">Qt</a>, <a href="../technical/index.html" rel="category tag">Technical</a>, <a href="index.html" rel="category tag">Uncategorized</a> and tagged <a href="../../tag/pri/index.html" rel="tag">.pri</a>, <a href="../../tag/pro/index.html" rel="tag">.pro</a>, <a href="../../tag/c/index.html" rel="tag">C++</a>, <a href="../../tag/project/index.html" rel="tag">project</a>, <a href="../../tag/project-files/index.html" rel="tag">project files</a>, <a href="../../tag/qmake/index.html" rel="tag">qmake</a>, <a href="../../tag/qt-2/index.html" rel="tag">qt</a>, <a href="../../tag/structure/index.html" rel="tag">structure</a> on <a href="../../2014/03/13/new-project-structure-for-projects-in-qt-creator-with-unit-tests/index.html" title="16:26" rel="bookmark"><time class="entry-date" datetime="2014-03-13T16:26:21+00:00">13 March, 2014</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../author/dragly/index.html" title="View all posts by Svenn-Arne Dragly" rel="author">Svenn-Arne Dragly</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->

	<article id="post-650" class="post-650 post type-post status-publish format-standard hentry category-uncategorized">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="../../2014/01/22/simplistic-config-files-for-c/index.html" title="Permalink to Simplistic Config Files for C++" rel="bookmark">Simplistic Config Files for C++</a>
			</h1>
										<div class="comments-link">
					<a href="../../2014/01/22/simplistic-config-files-for-c/index.html#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Hey all,</p>
<p>as many of you know, as codes tend to increase in size, they also (hopefully) tend to become more versatile and more reliant on various parameters to perform a specific task. At this limit, it becomes very dull having to open the code, recompile the code, and all that jazz just to test a new case. In light of this, a very common way to handle all sorts of parameters is through so-called configuration files, or config files for short.</p>
<p>There exists many standards when it comes to config files, however, common to all is that they work around cell blocks. A typical setup would be something like this:</p>
<pre>
FirstCell =
{
    CellInFirstCell =
    {
        someVariable = 2;
    }

}

SecondCell = ...

</pre>
<p>Using interpreted languages like Python, one can use a config library (there exist plenty) which stores all the data in an object from which we can access all the data in the following manner:</p>
<pre>
retrievedData = FirstCell.CellInFirstCell.someVariable
</pre>
<p>Creating this library could be a simple project in lower level programming courses.</p>
<p>For compiled languages, on the other hand, it is not as easy, as the content of the file is not known compile time. Hence we are more reliant on a rigorous yet simple config file library. </p>
<p>The most commonly known cross-language library is <i>json</i>, however, personally, I find that if you do not need the super-duper cross-language support, <i>libconfig++</i> serves as a more clean and elegant library (this is of course open to discussion).</p>
<p>Libconfig for c++ is available through apt-get and is a part of the comp-phys package. If you are not using this package, you can get it by typing</p>
<pre>
sudo apt-get install libconfig++-dev 
</pre>
<p>Parsing the first config file example (which is in libconfig syntax) can be done in the following manner in your c++ program:</p>
<pre>
#include <libconfig.h++>

using namespace libconfig;

int main()
{

    Config cfg;

    cfg.readFile("name_of_config_file");

    const Setting & root = cfg.getRoot();

    int retrievedData = root["FirstCell"]["CellInFirstCell"]["someVariable"];

    ...
    return 0;
}
</pre>
<p>For transparency you could also load entire cells:</p>
<pre>
const Setting & FirstCell = root["FirstCell"];
int retrievedData = FirstCell["CellInFirstCell"]["someVariable"];
</pre>
<p>This is good and all, but what if you have a typo, or type mismatch (e.g. try loading a double into an int)? This brings me to the second topic of this post: Exception handling with libconfig.<br />
If libconfig fails to load a value for some reason, it will simply throw an exception explaining the general nature of the error, that is, either setting not found or type mismatch. The tedious part is that it says nothing about which value failed, neither is it very easy to tell the exceptions apart.</p>
<p>After using the library for some months I decided to do something about this, namely write a wrapper for libconfig which does the exception handling rigorously. You can find the full story on <a href="http://www.github.com/jorgehog/libconfig_utils" title="my github"></a>, but here&#8217;s the short version:</p>
<p>Take the first example use of libconfig. Now, instead of including libconfig directly, we include the utilities header and retrieve the value using the <i>getSetting</i> function:</p>
<pre>
#include <libconfig_utils/libconfig_utils.h>

using namespace libconfig;

int main()
{

    Config cfg;

    cfg.readFile("config.cfg");

    const Setting & root = cfg.getRoot();

    int someVariable = getSetting(root, {"FirstCell",
                                         "CellInFirstCell",
                                         "someVariable"});

    ...
    return 0;
}
</pre>
<p><i>Note: The brackets requires compilation with c++ 11</i></p>
<p>At this point, there is nothing new going on. However, let&#8217;s introduce an error, replacing &#8220;someVariable&#8221; by &#8220;anotherVariable&#8221;. The following error output is then given runtime:</p>
<pre>
Unable to load config key 'anotherVariable' from
 root-->FirstCell-->CellInFirstCell-->anotherVariable
what() : SettingNotFoundException
 Mismatch in given setting name.
</pre>
<p>What is not covered in the previous example is what happens if the typecast fails, i.e. that libconfig finds a mismatch in the format of the variable in the file and the type requested; it simply crashes.</p>
<p>If you want to avoid this, a template type can be specified as follows:</p>
<pre>
int someVariable = getSetting&lt;int&gt;({"FirstCell",
                                   "CellInFirstCell",
                                   "someVariable"});
</pre>
<p>here in the case of a mismatch (i.e. if we set someVariable = 2.0) , the following message appears:</p>
<pre>
Unable to load config key 'someVariable' from
 root-->FirstCell-->CellInFirstCell-->someVariable
what() : SettingTypeException
 Mismatch in given template type and config file variable format.
</pre>
<p>Errors do not necessarily have to be at the bottom level, in which the lower levels will not be indicated:</p>
<pre>
Unable to load config key 'CellInFirstCell_with_typo' from
 root-->FirstCell-->CellInFirstCell_with_typo
what() : SettingNotFoundException
 Mismatch in given setting name.
</pre>
<p>Moreover, we often only want to retrieve a variable from one level down, which means that calling the getSetting function with a list is tedious. If you wish only to read a single variable from the next level, then you will not have to use lists, but can rather use the function <i>getSurfaceSetting</i> as follows:</p>
<pre>
...
    const Setting & root = cfg.getRoot();
    const Setting & mid  = getSetting(root, {"FirstCell", "CellInFirstCell"});

    int someVariable = getSurfaceSetting&lt;int&gt;(mid, "someVariable");
...
</pre>
<p>This is equivalent to dropping the &#8216;Surface&#8217; and adding the string in brackets, but thought of as a more convenient option for single depth parsing.</p>
<p>Note also that in the last example, we saved a variable mid which is a simple libconfig++ Setting object. There is absolutely no difference in the memory address of <i>mid</i> and <i>root[&#8220;FirstCell&#8221;][&#8220;CellInFirstCell&#8221;]</i> by construction.</p>
<p>Regardless of whether you use intermediate storage of cells, the error message will trace back to the root object.</p>
<p>Anyways, that&#8217;s all for now! I hope you guys find a use for it; I use do!</p>
<p>Until next time, enjoy! ðŸ™‚</p>
<p>JÃ¸rgen out</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="index.html" rel="category tag">Uncategorized</a> on <a href="../../2014/01/22/simplistic-config-files-for-c/index.html" title="11:36" rel="bookmark"><time class="entry-date" datetime="2014-01-22T11:36:44+00:00">22 January, 2014</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../author/jorgen/index.html" title="View all posts by JÃ¸rgen HÃ¸gberget" rel="author">JÃ¸rgen HÃ¸gberget</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->

	<article id="post-574" class="post-574 post type-post status-publish format-standard hentry category-atoms category-c category-computational-physics category-molecular-dynamics category-molecules category-ovito category-physics category-programming category-uncategorized">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="../../2013/11/22/quantum-molecular-dynamics-simulation-of-h_2-h_2-o/index.html" title="Permalink to Quantum molecular dynamics simulation of $H_2$ &#038; $H_2 O$" rel="bookmark">Quantum molecular dynamics simulation of $H_2$ &#038; $H_2 O$</a>
			</h1>
										<div class="comments-link">
					<a href="../../2013/11/22/quantum-molecular-dynamics-simulation-of-h_2-h_2-o/index.html#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>The classical molecular dynamics is primarily based on classical motion of atoms interacting with a given potential. Â Quantum molecular dynamics, on the other hand, focuses on all the interactions between atoms and electrons, and does not involve fitting interactions to experimental data. Â An approach to include the electronic structure is to solve the electronic SchrÃ¶dinger equation, given the set of fixed nuclear positions, in each molecular dynamics step and let the nuclei to move according to classical mechanics in an effective potential due to the electrons.</p>
<p>In the last two weeks I have been working on calculating this effective Â potential, based on the results from my Hartree-Fock code. Â The forces acting on the nuclei are found by taking the gradient of the energy with respect to the nuclei positions. Below I have included Â molecular dynamics simulation of $H_2$ Â and $H_2O$ molecule, where the effective potential is calculated in each time step.</p>
<p><span class="embed-youtube" style="text-align:center; display: block;"><iframe class='youtube-player' type='text/html' width='625' height='382' src='http://www.youtube.com/embed/fLs1nCLNv3c?version=3&amp;rel=1&amp;fs=1&amp;autohide=2&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;wmode=transparent' allowfullscreen='true' style='border:0;'></iframe></span></p>
<p><span class="embed-youtube" style="text-align:center; display: block;"><iframe class='youtube-player' type='text/html' width='625' height='382' src='http://www.youtube.com/embed/2QCJa-GghmQ?version=3&amp;rel=1&amp;fs=1&amp;autohide=2&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;wmode=transparent' allowfullscreen='true' style='border:0;'></iframe></span></p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="../atoms/index.html" rel="category tag">atoms</a>, <a href="../programming/c/index.html" rel="category tag">C++</a>, <a href="../computational-physics/index.html" rel="category tag">Computational Physics</a>, <a href="../molecular-dynamics/index.html" rel="category tag">molecular dynamics</a>, <a href="../molecules/index.html" rel="category tag">molecules</a>, <a href="../ovito/index.html" rel="category tag">ovito</a>, <a href="../physics/index.html" rel="category tag">Physics</a>, <a href="../programming/index.html" rel="category tag">Programming</a>, <a href="index.html" rel="category tag">Uncategorized</a> on <a href="../../2013/11/22/quantum-molecular-dynamics-simulation-of-h_2-h_2-o/index.html" title="17:58" rel="bookmark"><time class="entry-date" datetime="2013-11-22T17:58:40+00:00">22 November, 2013</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../author/miladh/index.html" title="View all posts by Milad Mobarhan" rel="author">Milad Mobarhan</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->

	<article id="post-531" class="post-531 post type-post status-publish format-standard hentry category-uncategorized">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="../../2013/11/18/creating-directories-in-the-build-folder-using-qmake/index.html" title="Permalink to Creating directories in the build folder using qmake" rel="bookmark">Creating directories in the build folder using qmake</a>
			</h1>
										<div class="comments-link">
					<a href="../../2013/11/18/creating-directories-in-the-build-folder-using-qmake/index.html#comments">2 Replies</a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Hey guys,</p>
<p>this post is a followup on what Svenn-Arne wrote on <a href="../../2013/11/05/copying-data-files-to-the-build-directory-with-qmake/index.html">copying data files to the build directory with qmake</a>.</p>
<p>It is quite often I find myself in the situation where I need to explicitly create directories for my output each time I rebuild my code, as shipping output directories with the source code just doesn&#8217;t seem right to me.</p>
<p>As far as I know, this is quite normal to do inÂ <em>makefiles, </em>henceÂ the question becomes how to get qmake toÂ Â add the creating of output folders to it&#8217;s resulting makefile.</p>
<p>The answer is simple:</p>
<pre>#List all directories we want created just 
#as we are used to with sources and headers
DIRS = outfiles \
       stuff

#Loop over all given directories and append 
#the build directory to make absolute paths
for(DIR, DIRS) {

     #add these absolute paths to a variable which 
     #ends up as 'mkcommands = path1 path2 path3 ...'
     mkcommands += $$OUT_PWD/$$DIR
}

#make a custom createDir variable with 
#the command mkdir path1 path2 path3 ...
createDirs.commands = $(MKDIR) $$mkcommands

#Do Svenn-Arne explained magic!
first.depends += createDirs
QMAKE_EXTRA_TARGETS += createDirs</pre>
<p>From here on I will refer to Svenn-Arne&#8217;s post for explairnations regarding the qmake variables! My own jibberish is explained below!</p>
<ul>
<ul>
<li><strong>$(MKDIR)</strong> &#8211; Holds a platform-dependent make directory command that doesn&#8217;t fail if the folder already exists and creates parent directories if necessary.</li>
<li><strong>mkcommands</strong> &#8211; A chosen name, just as for &#8216;copydata&#8217; from Svenn-Arne&#8217;s post.</li>
<li><strong>createDirs</strong> &#8211; A chosen name, just as for &#8216;copydata&#8217; from Svenn-Arne&#8217;s post.</li>
</ul>
</ul>
<p>Enjoy ðŸ™‚</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="index.html" rel="category tag">Uncategorized</a> on <a href="../../2013/11/18/creating-directories-in-the-build-folder-using-qmake/index.html" title="19:57" rel="bookmark"><time class="entry-date" datetime="2013-11-18T19:57:05+00:00">18 November, 2013</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../author/jorgen/index.html" title="View all posts by JÃ¸rgen HÃ¸gberget" rel="author">JÃ¸rgen HÃ¸gberget</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->

	<article id="post-471" class="post-471 post type-post status-publish format-standard hentry category-uncategorized">
				<header class="entry-header">
									<h1 class="entry-title">
				<a href="../../2013/09/23/when-variational-monte-carlo-becomes-visual/index.html" title="Permalink to When variational Monte Carlo becomes visual" rel="bookmark">When variational Monte Carlo becomes visual</a>
			</h1>
								</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Today I was playing around with the output of <a href="https://github.com/jorgehog/QMC2">the code from JÃ¸rgen&#8217;s thesis</a>, and figured it would be fun to visualize the random walk in the <a href="http://en.wikipedia.org/wiki/Variational_Monte_Carlo">variational Monte Carlo</a> calculation.</p>
<span class="embed-youtube" style="text-align:center; display: block;"><iframe class='youtube-player' type='text/html' width='625' height='382' src='http://www.youtube.com/embed/H4AYC-nSgZY?version=3&amp;rel=1&amp;fs=1&amp;autohide=2&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;wmode=transparent' allowfullscreen='true' style='border:0;'></iframe></span>
<p>For the interested, this is a visualization of a variational Monte Carlo calculation for the hydrogen molecule. The algorithm used is theÂ <a href="http://en.wikipedia.org/wiki/Metropolisâ€“Hastings_algorithm">Metropolis-Hastings</a> algorithm. The two blue spheres represent the atomic nuclei, while the green spheres are the current electron configuration being sampled. The distance between the nuclei is about two times the distance for hydrogen in the ground state. The red spheres represent some of the history of the computation. If the complete history was included, the red spheres could have been interpreted as the electron density, but as you may notice, the history included is too short, so that the electron density fluctuates through the video. (Hint: Look at the density between the atoms &#8211; it varies between different times in the video.)</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="index.html" rel="category tag">Uncategorized</a> on <a href="../../2013/09/23/when-variational-monte-carlo-becomes-visual/index.html" title="19:01" rel="bookmark"><time class="entry-date" datetime="2013-09-23T19:01:01+00:00">23 September, 2013</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../author/dragly/index.html" title="View all posts by Svenn-Arne Dragly" rel="author">Svenn-Arne Dragly</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
		<nav id="nav-below" class="navigation" role="navigation">
			<h3 class="assistive-text">Post navigation</h3>
			<div class="nav-previous"><a href="page/2/index.html" ><span class="meta-nav">&larr;</span> Older posts</a></div>
			<div class="nav-next"></div>
		</nav><!-- .navigation -->
	
		
		</div><!-- #content -->
	</section><!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary">
			<aside id="search-2" class="widget widget_search"><form role="search" method="get" id="searchform" class="searchform" action="">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" />
				</div>
			</form></aside><aside id="rpwe_widget-2" class="widget rpwe_widget recent-posts-extended"><h3 class="widget-title">Recent posts</h3><div  class="rpwe-block "><ul class="rpwe-ul"><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="../../2015/09/24/education-prize-to-computational-physics/index.html"  rel="bookmark"><img class="rpwe-alignleft rpwe-thumb" src="../../wp-content/uploads/2012/11/fredagsseminar1-45x45.png" alt="Education Prize to Computational Physics!"></a><h3 class="rpwe-title"><a href="../../2015/09/24/education-prize-to-computational-physics/index.html" title="Permalink to Education Prize to Computational Physics!" rel="bookmark">Education Prize to Computational Physics!</a></h3></li><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="../../2015/02/10/creating-a-3d-neuron-scene-in-blender/index.html"  rel="bookmark"><img class="rpwe-alignleft rpwe-thumb" src="../../wp-content/uploads/2015/02/neuron-45x45.jpg" alt="Creating a 3D Neuron Scene in Blender"></a><h3 class="rpwe-title"><a href="../../2015/02/10/creating-a-3d-neuron-scene-in-blender/index.html" title="Permalink to Creating a 3D Neuron Scene in Blender" rel="bookmark">Creating a 3D Neuron Scene in Blender</a></h3></li><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="../../2015/01/15/national-education-price-awarded-to-computational-physics-professor/index.html"  rel="bookmark"><img class="rpwe-alignleft rpwe-thumb" src="../../wp-content/uploads/2015/01/malthe-45x45.jpg" alt="National education price awarded to Computational Physics professor"></a><h3 class="rpwe-title"><a href="../../2015/01/15/national-education-price-awarded-to-computational-physics-professor/index.html" title="Permalink to National education price awarded to Computational Physics professor" rel="bookmark">National education price awarded to Computational Physics professor</a></h3></li><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="../../2014/11/22/choosing-the-right-license-for-your-code/index.html" rel="bookmark"><img class="rpwe-alignleft rpwe-thumb rpwe-default-thumb" src="http://placehold.it/45x45/f0f0f0/ccc" alt="Choosing the right license for your code" width="45" height="45"></a><h3 class="rpwe-title"><a href="../../2014/11/22/choosing-the-right-license-for-your-code/index.html" title="Permalink to Choosing the right license for your code" rel="bookmark">Choosing the right license for your code</a></h3></li><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="../../2014/11/20/getting-mcalab-up-and-running-on-a-64-bit-installation-of-matlab-on-ubuntu/index.html" rel="bookmark"><img class="rpwe-alignleft rpwe-thumb rpwe-default-thumb" src="http://placehold.it/45x45/f0f0f0/ccc" alt="Getting MCALab up and running on a 64-bit installation of Matlab on Ubuntu" width="45" height="45"></a><h3 class="rpwe-title"><a href="../../2014/11/20/getting-mcalab-up-and-running-on-a-64-bit-installation-of-matlab-on-ubuntu/index.html" title="Permalink to Getting MCALab up and running on a 64-bit installation of Matlab on Ubuntu" rel="bookmark">Getting MCALab up and running on a 64-bit installation of Matlab on Ubuntu</a></h3></li><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="../../2014/09/16/find-usages-keybind-broken-qtcreator/index.html" rel="bookmark"><img class="rpwe-alignleft rpwe-thumb rpwe-default-thumb" src="http://placehold.it/45x45/f0f0f0/ccc" alt="Find Usages Keybind broken in QtCreator" width="45" height="45"></a><h3 class="rpwe-title"><a href="../../2014/09/16/find-usages-keybind-broken-qtcreator/index.html" title="Permalink to Find Usages Keybind broken in QtCreator" rel="bookmark">Find Usages Keybind broken in QtCreator</a></h3></li><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="../../2014/09/16/pycharm-for-qtcreator-fanatics/index.html" rel="bookmark"><img class="rpwe-alignleft rpwe-thumb rpwe-default-thumb" src="http://placehold.it/45x45/f0f0f0/ccc" alt="PyCharm Keymap for QtCreator Fanatics" width="45" height="45"></a><h3 class="rpwe-title"><a href="../../2014/09/16/pycharm-for-qtcreator-fanatics/index.html" title="Permalink to PyCharm Keymap for QtCreator Fanatics" rel="bookmark">PyCharm Keymap for QtCreator Fanatics</a></h3></li><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="../../2014/09/03/fixing-gdb-issues-with-gcc-4-8-x-and-c11/index.html" rel="bookmark"><img class="rpwe-alignleft rpwe-thumb rpwe-default-thumb" src="http://placehold.it/45x45/f0f0f0/ccc" alt="Fixing GDB issues with GCC 4.8.x and C++11" width="45" height="45"></a><h3 class="rpwe-title"><a href="../../2014/09/03/fixing-gdb-issues-with-gcc-4-8-x-and-c11/index.html" title="Permalink to Fixing GDB issues with GCC 4.8.x and C++11" rel="bookmark">Fixing GDB issues with GCC 4.8.x and C++11</a></h3></li><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="../../2014/08/04/latex-package-for-uio-masters-theses/index.html" rel="bookmark"><img class="rpwe-alignleft rpwe-thumb rpwe-default-thumb" src="http://placehold.it/45x45/f0f0f0/ccc" alt="LaTeX package for UiO Master&#8217;s theses" width="45" height="45"></a><h3 class="rpwe-title"><a href="../../2014/08/04/latex-package-for-uio-masters-theses/index.html" title="Permalink to LaTeX package for UiO Master&#8217;s theses" rel="bookmark">LaTeX package for UiO Master&#8217;s theses</a></h3></li><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="../../2014/07/09/circumventing-annoying-library-path-issues-with-qtcreator/index.html" rel="bookmark"><img class="rpwe-alignleft rpwe-thumb rpwe-default-thumb" src="http://placehold.it/45x45/f0f0f0/ccc" alt="Circumventing annoying library path issues with QtCreator" width="45" height="45"></a><h3 class="rpwe-title"><a href="../../2014/07/09/circumventing-annoying-library-path-issues-with-qtcreator/index.html" title="Permalink to Circumventing annoying library path issues with QtCreator" rel="bookmark">Circumventing annoying library path issues with QtCreator</a></h3></li></ul></div><!-- Generated by http://wordpress.org/plugins/recent-posts-widget-extended/ --></aside><aside id="meta-2" class="widget widget_meta"><h3 class="widget-title">Meta</h3>			<ul>
						<li><a href="../../wp-login.html">Log in</a></li>
			<li><a href="../../feed/index.html">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="../../comments/feed/index.html">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
			</aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h3 class="widget-title">Recent Posts</h3>		<ul>
					<li>
				<a href="../../2015/09/24/education-prize-to-computational-physics/index.html">Education Prize to Computational Physics!</a>
						</li>
					<li>
				<a href="../../2015/02/10/creating-a-3d-neuron-scene-in-blender/index.html">Creating a 3D Neuron Scene in Blender</a>
						</li>
					<li>
				<a href="../../2015/01/15/national-education-price-awarded-to-computational-physics-professor/index.html">National education price awarded to Computational Physics professor</a>
						</li>
					<li>
				<a href="../../2014/11/22/choosing-the-right-license-for-your-code/index.html">Choosing the right license for your code</a>
						</li>
					<li>
				<a href="../../2014/11/20/getting-mcalab-up-and-running-on-a-64-bit-installation-of-matlab-on-ubuntu/index.html">Getting MCALab up and running on a 64-bit installation of Matlab on Ubuntu</a>
						</li>
				</ul>
		</aside>				</div><!-- #secondary -->
		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo">
		<div class="site-info">
						<a href="https://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->

	<div style="display:none">
	</div>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201702'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2017Janaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/jetpack/modules/wpgroho4906.js?ver=4.7'></script>
<script type='text/javascript' src='../../wp-content/themes/twentytwelve/js/navigation0150.js?ver=20140711'></script>
<script type='text/javascript' src='../../wp-content/plugins/wp-jquery-lightbox/jquery.touchwipe.min5f04.js?ver=1.4.6'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var JQLBSettings = {"showTitle":"1","showCaption":"1","showNumbers":"1","fitToScreen":"1","resizeSpeed":"400","showDownload":"0","navbarOnTop":"0","marginSize":"0","slideshowSpeed":"4000","prevLinkTitle":"previous image","nextLinkTitle":"next image","closeTitle":"close image gallery","image":"Image ","of":" of ","download":"Download","pause":"(pause slideshow)","play":"(play slideshow)"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/wp-jquery-lightbox/jquery.lightbox.min5f04.js?ver=1.4.6'></script>
<script type='text/javascript' src='../../wp-includes/js/wp-embed.min4906.js?ver=4.7'></script>
</body>

<!-- Mirrored from localhost/category/uncategorized/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 11:24:42 GMT -->
</html>