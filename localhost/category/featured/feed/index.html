<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Featured &#8211; Computational Physics</title>
	<atom:link href="category/featured/feed/" rel="self" type="application/rss+xml" />
	<link>http://localhost</link>
	<description>Exploring physics beyond what can be counted by hand</description>
	<lastBuildDate>Sun, 21 Feb 2016 11:16:19 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.7</generator>
	<item>
		<title>Education Prize to Computational Physics!</title>
		<link>2015/09/24/education-prize-to-computational-physics/</link>
		<comments>2015/09/24/education-prize-to-computational-physics/#respond</comments>
		<pubDate>Thu, 24 Sep 2015 11:51:32 +0000</pubDate>
		<dc:creator><![CDATA[Daniel Marelius Bjørnstad]]></dc:creator>
				<category><![CDATA[awards]]></category>
		<category><![CDATA[Featured]]></category>

		<guid isPermaLink="false">?p=947</guid>
		<description><![CDATA[This year&#8217;s education prize has been given to our group, Computational Physics! Every year the the university board chooses a person or group that have shown exceptional work in regards to educational quality and educational environment. And with the prize comes  a reward of the hefty sum 250 000 NOK! The money will be used to [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>This year&#8217;s education prize has been given to our group, Computational Physics!</p>
<p>Every year the the university board chooses a person or group that have shown exceptional work in regards to educational quality and educational environment. And with the prize comes  a reward of the hefty sum 250 000 NOK! The money will be used to further improve the quality of the environment and will serve present and future students and employees at Comp. Phys. !</p>
<p>We are very happy to receive this price and a big thanks to all students and teachers that have been a part of this group to make it what it is today. And a special thankyou must be given to <a href="author/mhjensen/" target="_blank">Morten Hjort Jensen </a>and<a href="?author=7" target="_blank"> Anders Malthe-Sørenssen</a> for continuing doing their best to advice and teach with the highest quality.</p>
<p>As for the students at Comp. Phys., they can look forward to enjoying the benefits of the prize money! They money will be used to improve the environment and at the top of the list is to upgrade the equipment and add new furnishing. Specifically a part of the prize has been set aside for two 24&#8243; screens for each student.</p>
]]></content:encoded>
			<wfw:commentRss>2015/09/24/education-prize-to-computational-physics/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>National education price awarded to Computational Physics professor</title>
		<link>2015/01/15/national-education-price-awarded-to-computational-physics-professor/</link>
		<comments>2015/01/15/national-education-price-awarded-to-computational-physics-professor/#respond</comments>
		<pubDate>Thu, 15 Jan 2015 16:11:06 +0000</pubDate>
		<dc:creator><![CDATA[Milad Mobarhan]]></dc:creator>
				<category><![CDATA[awards]]></category>
		<category><![CDATA[Featured]]></category>

		<guid isPermaLink="false">?p=863</guid>
		<description><![CDATA[Professor Anders-Malthe Sørenssen was awarded the annual Olav Thon Foundation price for outstanding education. The price was awarded for his work on modernizing the physics education at the University of Oslo. He has increased the use of computational methods and challenged undergraduate students with current research problems. Read the announcment from the Olav Thon Foundation. [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Professor Anders-Malthe Sørenssen was awarded the annual Olav Thon Foundation price for<br />
outstanding education. The price was awarded for his work on modernizing the physics education at the University of Oslo. He has increased the use of computational methods and challenged undergraduate students with current research problems.</p>
<p>Read <a href="http://www.olavthon.no/Aktuelt/Pressemelding-fra-Olav-Thon-Stiftelsen/">the announcment from the Olav Thon Foundation</a>. More information <a href="http://www.mn.uio.no/fysikk/om/aktuelt/aktuelle-saker/2015/thon-ams.html">from the Department of Physics</a> and <a href="http://morten.ifi.uio.no/?p=17453">the dean&#8217;s blog</a>.</p>
<p>&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>2015/01/15/national-education-price-awarded-to-computational-physics-professor/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Representing the University of Oslo at the education fair in Oslo Spektrum</title>
		<link>2014/02/22/representing-the-university-of-oslo-at-the-education-fair-in-oslo-spektrum/</link>
		<comments>2014/02/22/representing-the-university-of-oslo-at-the-education-fair-in-oslo-spektrum/#respond</comments>
		<pubDate>Sat, 22 Feb 2014 17:48:45 +0000</pubDate>
		<dc:creator><![CDATA[Svenn-Arne Dragly]]></dc:creator>
				<category><![CDATA[Featured]]></category>
		<category><![CDATA[Media]]></category>

		<guid isPermaLink="false">?p=679</guid>
		<description><![CDATA[We were invited to join the UiO stand at the education fair arranged by tautdanning.no in Oslo Spektrum last week. We brought with us some of our visualization equipment, including a 55&#8243; TV and an Oculus Rift, in addition to our homegrown software to visualize molecular dynamics simulations. The stand attracted a fair amount of [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>We were invited to join the <a href="http://uio.no">UiO</a> stand at the education fair arranged by <a href="http://tautdanning.no">tautdanning.no</a> in Oslo Spektrum last week. We brought with us some of our visualization equipment, including a 55&#8243; TV and an Oculus Rift, in addition to our homegrown software to visualize <a title="Projects" href="projects/">molecular dynamics simulations</a>.</p>
<p>The stand attracted a fair amount of attention and hopefully convinced some upcoming students to join our university and research group. We got plenty of questions about what was being shown on the TV, how the Oculus Rift controlled the camera in the visualization and of course about the different studies available at the University of Oslo.</p>

<a href='2014/02/22/representing-the-university-of-oslo-at-the-education-fair-in-oslo-spektrum/img_5219/'><img width="150" height="150" src="wp-content/uploads/2014/02/IMG_5219-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="Visualization equipment at education fair" /></a>
<a href='2014/02/22/representing-the-university-of-oslo-at-the-education-fair-in-oslo-spektrum/img_5244/'><img width="150" height="150" src="wp-content/uploads/2014/02/IMG_5244-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
<a href='2014/02/22/representing-the-university-of-oslo-at-the-education-fair-in-oslo-spektrum/img_5230/'><img width="150" height="150" src="wp-content/uploads/2014/02/IMG_5230-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>

<p>What the visualization rendered was a simulation of water in <a href="http://en.wikipedia.org/wiki/Nanoporous">nanoporous</a> silica (SiO<sub>2</sub>), similar to <a href="http://www.apollon.uio.no/artikler/2013/2_tungregning_olje.html">other simulations done in our group</a> to improve our understanding of fluids in nanoporous media.</p>
<p>If you are interested in what other things we do, have a look at <a title="Projects" href="projects/">our Projects page</a>.</p>
]]></content:encoded>
			<wfw:commentRss>2014/02/22/representing-the-university-of-oslo-at-the-education-fair-in-oslo-spektrum/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Workshop on Multiscale Science, from First Principle Methods to Molecular Dynamics</title>
		<link>2013/12/16/637/</link>
		<comments>2013/12/16/637/#respond</comments>
		<pubDate>Mon, 16 Dec 2013 11:57:53 +0000</pubDate>
		<dc:creator><![CDATA[Morten Hjorth-Jensen]]></dc:creator>
				<category><![CDATA[Featured]]></category>

		<guid isPermaLink="false">?p=637</guid>
		<description><![CDATA[December 18 2013, Department of Physics, UiO, room FV311 (alternatively if many people, Lille Fys Aud) 9.00-9.40 Simen Kvaal (CTCC) Differentiable but Exact DFT 9.40-10.20 David Balcells (CTCC): Discovering new Chemistry Rules with DFT: C-H Deactivation in Transition Metal Complexes. 10.20-10.40 Break 10.40-11.20 Robert Izsak (CTCC): Towards an Efficient Computational Model for Excited States 11.20-12.00 [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><em>December 18 2013, Department of Physics, UiO, room FV311 (alternatively if many people, Lille Fys Aud)</em></p>
<ul>
<li>9.00-9.40 Simen Kvaal (CTCC) Differentiable but Exact DFT</li>
<li>9.40-10.20 David Balcells (CTCC): Discovering new Chemistry Rules with DFT:<br />
C-H Deactivation in Transition Metal Complexes.</li>
<li>10.20-10.40 Break</li>
<li>10.40-11.20 Robert Izsak (CTCC): Towards an Efficient Computational Model<br />
for Excited States</li>
<li>11.20-12.00 Milad Hobbi Mobarhan, Svenn-Arne Dragly and Henrik Eiding (CompPhys): Hartree-Fock and <em>ab initio</em> Molecular Dynamics</li>
<li>12.00-12.20  Svenn-Arne Dragly and Anders Hafreager: Visualization of Molecular Dynamics calculations</li>
<li>12.20-14 Lunch</li>
<li>14-15 Anders Hafreager, Camilla Kirkemo,  Jørgen Kjoshagen Trømborg and Kjetil Thøgersen (CompPhys) : Supporting multiscale models with results from molecular dynamics</li>
<li>15-15.40 Erik Tellgren (CTCC): Molecular Anapole Moments</li>
<li>15.40-16.00 Break</li>
<li>16.00-16.40   Ole Martin Løvvik (SINTEF): Transport properties of thermoelectric materials from first principles</li>
<li>16.40-17.20 Alex Borgoo (CTCC): Adiabatic connection for ensemble energies:<br />
An alternative route to excitation energies</li>
</ul>
]]></content:encoded>
			<wfw:commentRss>2013/12/16/637/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Working with percolation clusters in Python</title>
		<link>2013/03/25/working-with-percolation-clusters-in-python/</link>
		<pubDate>Mon, 25 Mar 2013 12:38:12 +0000</pubDate>
		<dc:creator><![CDATA[Svenn-Arne Dragly]]></dc:creator>
				<category><![CDATA[Computational Physics]]></category>
		<category><![CDATA[Featured]]></category>
		<category><![CDATA[Physics]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[Python]]></category>
		<category><![CDATA[clusters]]></category>
		<category><![CDATA[matlab]]></category>
		<category><![CDATA[measurements]]></category>
		<category><![CDATA[percolation]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[scipy]]></category>

		<guid isPermaLink="false">?p=305</guid>
		<description><![CDATA[We&#8217;re working on a new project in FYS4460 about percolation. In the introduction of this project, we are given a few commands to help us demonstrate a few properties of percolation clusters using MATLAB. As the Python-fan I am, I of course had to see if I could find equivalent commands in Python, and thankfully [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>We&#8217;re working on a new project in FYS4460 about percolation. In the introduction of this project, we are given a few commands to help us demonstrate a few properties of percolation clusters using MATLAB.</p>
<p>As the Python-fan I am, I of course had to see if I could find equivalent commands in Python, and thankfully that was quite easy. Below I will summarize the commands that will generate a random matrix of filled and unfilled areas, label each cluster in this matrix and calculate the area of each such cluster. Finally, we&#8217;ll draw a bounding box around the largest cluster.</p>
<p><span id="more-305"></span></p>
<p>First of all, we need to include the <strong>pylab</strong> package together with the <strong>scipy.ndimage.measurements</strong> package:</p>
<pre class="brush:py">from pylab import *
from scipy.ndimage import measurements</pre>
<p>Now, let&#8217;s create a random matrix of filled and unfilled regions and visualize it:</p>
<pre class="brush:py">L = 100
r = rand(L,L)
p = 0.4
z = r &lt; p

imshow(z, origin='lower', interpolation='nearest')
colorbar()
title("Matrix")
show()</pre>
<p>This creates a matrix of random numbers <strong>r</strong> before creating a map <strong>z</strong> of this matrix where each element is set to True if <strong>r</strong> &lt; p and False if <strong>r</strong> &gt; p:</p>
<div id="attachment_852" style="width: 310px" class="wp-caption aligncenter"><a href="http://dragly.org/wp-content/uploads/2013/03/matrix.png" rel="lightbox[305]"><img class="size-medium wp-image-852" alt="Visualization of the map z." src="http://dragly.org/wp-content/uploads/2013/03/matrix-300x225.png" width="300" height="225" /></a><p class="wp-caption-text">Visualization of the map z.</p></div>
<p>Furthermore we want to label each cluster. This is performed by the scipy.ndimage.measurements.label function:</p>
<pre class="brush:py">lw, num = measurements.label(z)
imshow(lw, origin='lower', interpolation='nearest')
colorbar()
title("Labeled clusters")
show()</pre>
<p>This labels each cluster with a number which may be visualized using the imshow function as above:</p>
<div id="attachment_872" style="width: 310px" class="wp-caption aligncenter"><a href="http://dragly.org/wp-content/uploads/2013/03/labeled-matrix-ordered.png" rel="lightbox[305]"><img class="size-medium wp-image-872" alt="Matrix with labeled clusters, so it is a bit hard to distinguish each cluster." src="http://dragly.org/wp-content/uploads/2013/03/labeled-matrix-ordered-300x225.png" width="300" height="225" /></a><p class="wp-caption-text">Matrix with labeled clusters, so it is a bit hard to distinguish each cluster.</p></div>
<p>Beacause the label starts from the bottom up, the cluster colors are a bit too ordered, making it hard to distinguish two clusters close to each other. To fix this, we may shuffle the labeling with the following code:</p>
<pre class="brush:py">b = arange(lw.max() + 1)
shuffle(b)
shuffledLw = b[lw]
imshow(shuffledLw, origin='lower', interpolation='nearest')
colorbar()
title("Labeled clusters")
show()</pre>
<p>Now it is way easier to see the different clusters:</p>
<div id="attachment_871" style="width: 310px" class="wp-caption aligncenter"><a href="http://dragly.org/wp-content/uploads/2013/03/labeled-matrix.png" rel="lightbox[305]"><img class="size-medium wp-image-871" alt="The same matrix with all clusters labeled with a number." src="http://dragly.org/wp-content/uploads/2013/03/labeled-matrix-300x225.png" width="300" height="225" /></a><p class="wp-caption-text">The same matrix with all clusters labeled with a number.</p></div>
<p>After this we may want to extract some properties of the clusters, such as the area. This is possible using the scipy.ndimage.measurements.sum function:</p>
<pre class="brush:py">area = measurements.sum(z, lw, index=arange(lw.max() + 1))
areaImg = area[lw]
im3 = imshow(areaImg, origin='lower', interpolation='nearest')
colorbar()
title("Clusters by area")
show()</pre>
<p>The above code now plots the same matrix as above, but this time with all clusters colored by area:</p>
<div id="attachment_873" style="width: 310px" class="wp-caption aligncenter"><a href="http://dragly.org/wp-content/uploads/2013/03/colored-by-area.png" rel="lightbox[305]"><img class="size-medium wp-image-873" alt="Matrix with the clusters colored by area." src="http://dragly.org/wp-content/uploads/2013/03/colored-by-area-300x225.png" width="300" height="225" /></a><p class="wp-caption-text">Matrix with the clusters colored by area.</p></div>
<p>Finally, we may want to find the bounding box of the largest cluster, so we again may see if there is a path from one side to the other. This is possible by using the function scipy.ndimage.measurements.find_objects. Note however that this is a bit risky. If there are two clusters that are largest with the same area, find_objects will find the bounding box of both clusters. I&#8217;ll leave it up to you to figure out a method to avoid this if necessary. (Pro tip: Make a mapping of the cluster labels to the areas.)</p>
<p>With the find_objects function, we are able to plot a rectangle around the largest cluster:</p>
<pre class="brush:py">sliced = measurements.find_objects(areaImg == areaImg.max())
if(len(sliced) &gt; 0):
    sliceX = sliced[0][1]
    sliceY = sliced[0][0]
    plotxlim=im3.axes.get_xlim()
    plotylim=im3.axes.get_ylim()
    plot([sliceX.start, sliceX.start, sliceX.stop, sliceX.stop, sliceX.start], \
                      [sliceY.start, sliceY.stop, sliceY.stop, sliceY.start, sliceY.start], \
                      color="red")
    xlim(plotxlim)
    ylim(plotylim)

show()</pre>
<p>This shows up like this:</p>
<div id="attachment_874" style="width: 310px" class="wp-caption aligncenter"><a href="http://dragly.org/wp-content/uploads/2013/03/bounding-box.png" rel="lightbox[305]"><img class="size-medium wp-image-874" alt="bounding-box" src="http://dragly.org/wp-content/uploads/2013/03/bounding-box-300x225.png" width="300" height="225" /></a><p class="wp-caption-text">A bounding box on top of the largest cluster. The rest are colored by area.</p></div>
<p>The whole program then becomes as follows:</p>
<pre class="brush:py">from pylab import *
from scipy.ndimage import measurements

L = 100
r = rand(L,L)
p = 0.4
z = r&lt;p

figure(figsize=(16,5))
subplot(1,3,1)
imshow(z, origin='lower', interpolation='nearest')
colorbar()
title("Matrix")

# Show image of labeled clusters (shuffled)
lw, num = measurements.label(z)
subplot(1,3,2)
b = arange(lw.max() + 1) # create an array of values from 0 to lw.max() + 1
shuffle(b) # shuffle this array
shuffledLw = b[lw] # replace all values with values from b
imshow(shuffledLw, origin='lower', interpolation='nearest') # show image clusters as labeled by a shuffled lw
colorbar()
title("Labeled clusters")

# Calculate areas
subplot(1,3,3)
area = measurements.sum(z, lw, index=arange(lw.max() + 1))
areaImg = area[lw]
im3 = imshow(areaImg, origin='lower', interpolation='nearest')
colorbar()
title("Clusters by area")

# Bounding box
sliced = measurements.find_objects(areaImg == areaImg.max())
if(len(sliced) &gt; 0):
    sliceX = sliced[0][1]
    sliceY = sliced[0][0]
    plotxlim=im3.axes.get_xlim()
    plotylim=im3.axes.get_ylim()
    plot([sliceX.start, sliceX.start, sliceX.stop, sliceX.stop, sliceX.start], \
                      [sliceY.start, sliceY.stop, sliceY.stop, sliceY.start, sliceY.start], \
                      color="red")
    xlim(plotxlim)
    ylim(plotylim)

show()</pre>
]]></content:encoded>
			</item>
		<item>
		<title>Getting the latest version of Ovito for Ubuntu</title>
		<link>2013/02/28/getting-the-latest-version-of-ovito-for-ubuntu/</link>
		<pubDate>Thu, 28 Feb 2013 10:09:22 +0000</pubDate>
		<dc:creator><![CDATA[Svenn-Arne Dragly]]></dc:creator>
				<category><![CDATA[atoms]]></category>
		<category><![CDATA[Computational Physics]]></category>
		<category><![CDATA[Featured]]></category>
		<category><![CDATA[molecular dynamics]]></category>
		<category><![CDATA[molecules]]></category>
		<category><![CDATA[ovito]]></category>
		<category><![CDATA[Physics]]></category>
		<category><![CDATA[Ubuntu]]></category>
		<category><![CDATA[visualization]]></category>
		<category><![CDATA[vmd]]></category>

		<guid isPermaLink="false">http://dragly.org/?p=831</guid>
		<description><![CDATA[Ovito is a great tool to visualize atoms from molecular dynamics simulations and to perform some statistical analysis on the data. The tool is an alternative to other similar tools such as VMD and ParaView. The current version of Ovito &#8230; <a href="http://dragly.org/2013/02/28/getting-the-latest-version-of-ovito-for-ubuntu/">Continue reading <span>&#8594;</span></a>
]]></description>
				<content:encoded><![CDATA[<p>Ovito is a great tool to visualize atoms from molecular dynamics simulations and to perform some statistical analysis on the data. The tool is an alternative to other similar tools such as VMD and ParaView.</p>
<p>The current version of Ovito in the Ubuntu repositories (version 0.9.2) is sadly very outdated. Even though you of course may download the latest version from Ovito&#8217;s webpages and install it locally in your home folder, I often find it better to get a newer package version.</p>
<p>At the Computational Physics group&#8217;s PPA I have now uploaded the latest build of Ovito for Ubuntu in a package that will automatically replace the current Ovito version. Note that this is not a release version of Ovito, but the latest version fetched from Ovito&#8217;s sources (currently nicknamed 1.1.1.90). The reason is that Ovito&#8217;s creator, Alexander Stukowski, was kind enough to implement a suggestion we proposed to change the default input handler for the viewports to be the orbit input handler. This behavior feels so much more natural and makes the already great Ovito application even better.</p>
<p>To install the latest version of Ovito, all you need to do is to open up a terminal and type these lines:</p>
<pre class="brush:shell">sudo apt-add-repository ppa:comp-phys/stable
sudo apt-get update
sudo apt-get install ovito</pre>
<p>Note that the Computational Physics repository also contains newer versions of the Armadillo package, which will automatically be updated if you do not remove the repository after installing Ovito.</p>
]]></content:encoded>
			</item>
		<item>
		<title>Mathematics is useful</title>
		<link>2012/11/28/mathematics-is-useful/</link>
		<comments>2012/11/28/mathematics-is-useful/#respond</comments>
		<pubDate>Wed, 28 Nov 2012 12:11:15 +0000</pubDate>
		<dc:creator><![CDATA[Jørgen Høgberget]]></dc:creator>
				<category><![CDATA[Featured]]></category>

		<guid isPermaLink="false">?p=170</guid>
		<description><![CDATA[Lately I&#8217;ve been working on parallelizing my Quantum Monte-Carlo library. Common for stochastic sampling methods is the crucial need of error estimates, usually involving the variance in some way or another. Retrieving the single variance given an armadillo vector of samples is trivial The challange is multinode computing. A brute force solution is to simply [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Lately I&#8217;ve been working on parallelizing my Quantum Monte-Carlo library. Common for stochastic sampling methods is the crucial need of error estimates, usually involving the variance in some way or another. Retrieving the single variance given an armadillo vector of samples is trivial</p>
<pre class="brush: cpp; title: ; notranslate">double var = arma::var(data);</pre>
<p>The challange is multinode computing. A brute force solution is to simply use MPI_Gather to concatinate all <em>the data</em> vectors into a single vector on the master node:</p>
<pre class="brush: cpp; title: ; notranslate">
int n = data.n_elem;

double var;

if (is_master) {
   data.resize(n * n_nodes);
   MPI_Gather(MPI_IN_PLACE, n, MPI_DOUBLE, data.memptr(), n, MPI_DOUBLE, 0, MPI_COMM_WORLD);
   var = arma::var(data);
} else {
   MPI_Gather(data.memptr(), n, MPI_DOUBLE, NULL, 0, MPI_DATATYPE_NULL, 0, MPI_COMM_WORLD);
}</pre>
<p>However, in doing this, you communicate n elements per node, or ~10^9 elements for a production run. On top of that, all nodes but the master is idle during the calculation process. Memory is also terribly unbalanced between the nodes.</p>
<p>With that in mind, we would want to optimize these calculations by having all nodes calculate <em>their part of the variance</em>, and then simply combine these local variances into the combined variance.</p>
<p>For <em>uncorrelated </em>samples, this is follows a simple addition rule, however, for stochastic simulations in general, we can assume no such thing. So what now? I googled around a little bit before I came across a <a href="http://stats.stackexchange.com/questions/30495/how-to-combine-subsets-consisting-of-mean-variance-confidence-and-number-of-s">simple derivation of the combined variance given local variances</a>.</p>
<p>$$ v=\frac{1}{n-1}\left[\sum_i n_i(m_i-m)^2 + \sum_i(n_i-1)v_i\right]$$</p>
<p>The combined variance can be calculated given the local mean and variance of each node, reducing the communication to a single combined mean calculation in addition to summing a set of doubles:</p>
<pre class="brush: cpp; title: ; notranslate">double combined_mean;

int n = data.n_elem;

double mean = arma::mean(data);
double var = arma::var(data);

MPI_Allreduce(&amp;mean, &amp;combined_mean, 1, MPI_DOUBLE, MPI_SUM, MPI_COMM_WORLD);
combined_mean /= n_nodes;

double combined_var = n * (mean - combined_mean)*(mean - combined_mean) + (n - 1) * var;

if (is_master) {
   MPI_Reduce(MPI_IN_PLACE, &amp;combined_var, 1, MPI_DOUBLE, MPI_SUM, 0, MPI_COMM_WORLD);
   var = combined_var / (n * n_nodes - 1);
} else {
   MPI_Reduce(&amp;combined_var, new double(), 1, MPI_DOUBLE, MPI_SUM, 0, MPI_COMM_WORLD);
}

</pre>
<p>The above code results in exactly the same as the first brute force implementation (given data sample sets are of equal size). Mathematics is useful!</p>
]]></content:encoded>
			<wfw:commentRss>2012/11/28/mathematics-is-useful/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Developing MPI applications in Qt Creator</title>
		<link>2012/03/14/developing-mpi-applications-in-qt-creator/</link>
		<pubDate>Wed, 14 Mar 2012 15:43:08 +0000</pubDate>
		<dc:creator><![CDATA[Svenn-Arne Dragly]]></dc:creator>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[Computational Physics]]></category>
		<category><![CDATA[Featured]]></category>
		<category><![CDATA[MPI]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[Qt]]></category>

		<guid isPermaLink="false">http://dragly.org/?p=643</guid>
		<description><![CDATA[I have grown very fond of the ease and usability of Qt Creator lately, making it my main tool for developing anything in C and C++. Recently I started learning the MPI framework for doing large scale parallel programming and &#8230; <a href="http://dragly.org/2012/03/14/developing-mpi-applications-in-qt-creator/">Continue reading <span>&#8594;</span></a>]]></description>
				<content:encoded><![CDATA[<p>I have grown very fond of the ease and usability of Qt Creator lately, making it my main tool for developing anything in C and C++. Recently I started learning the MPI framework for doing large scale parallel programming and figured I wanted to try to make MPI play along with Qt Creator.</p>
<p>The first thing I noticed is that there is no problem using Qt Creator as an editor while compiling the MPI executable and running it from the command line. However, for the quick and easy testing of minor changes, running by pressing Ctrl + R in Qt Creator quickly came to a high place on my wish list.</p>
<p>After a quick search around the Internet, I found the necessary adjustments to make this exact thing happen. The steps are as follows:</p>
<h3>Make Qt Creator use mpicxx instead of g++</h3>
<p>To change the compiler in Qt Creator, you simply have to edit the .pro file of your project. Add the following lines, and Qt Creator will call mpicxx instead of g++:</p>
<pre class="brush:shell"># MPI Settings
QMAKE_CXX = mpicxx
QMAKE_CXX_RELEASE = $$QMAKE_CXX
QMAKE_CXX_DEBUG = $$QMAKE_CXX
QMAKE_LINK = $$QMAKE_CXX
QMAKE_CC = mpicc

QMAKE_CFLAGS = $$system(mpicc --showme:compile)
QMAKE_LFLAGS = $$system(mpicxx --showme:link)
QMAKE_CXXFLAGS = $$system(mpicxx --showme:compile) -DMPICH_IGNORE_CXX_SEEK
QMAKE_CXXFLAGS_RELEASE = $$QMAKE_CXXFLAGS</pre>
<p>This also sets the correct compile and link flags in addition to changing the linker to mpicxx as well. The DMPICH_IGNORE_CXX_SEEK flag is added to avoid some errors I experienced on Red Hat Linux 5.</p>
<h3>Running the application with mpirun</h3>
<p>Usually Qt Creator will simply run the generated executable after compiling, but to make use of multiple processors (which kind of is the whole point with MPI), you have to change the run settings of your project to a custom executable. This is done in the project configuration in Qt Creator under the Run tab for your project.</p>
<p>Add a Custom Executable run configuration and set the executable to /usr/bin/mpirun or any other path where mpirun resides on your system (run ‘which mpirun’ in a terminal to find it if you don’t know where it is). Then, set the arguments to</p>
<pre class="brush:shell">-n 2 yourexecutable</pre>
<p>to run yourexecutable with 2 processors. Of course you’ll have to change <em>yourexecutable</em> to whatever your executable is named.</p>
<h3>Adding a GUI to your MPI program</h3>
<p>I advice you to not use MPI together with Qt GUI libraries. The reasons for this is that Qt has its own threading classes that are easier to use together with GUI elements in your application if you need them and the fact that if you want to run your app on any large scale cluster you might not be able to use Qt at all, depending on what packages are available on this cluster. A much better solution is to load config settings from a file in the INI format, using for instance the lightweight <a href="http://code.google.com/p/inih/">inih</a> library and make this settings file writable from a Qt GUI application using QSettings to write this file.</p>
<p>The downside of this approach is that you won’t be able to implement any communication directly with the MPI process, but this could be worked around by for instance reading and writing to a progress status file if this is what you need.</p>
<p>However, it is not impossible to make Qt GUI applications play along with MPI, even though you might have to juggle a bit around with stuff to make it work flawlessly. Passing MPI broadcasts and such to all the other processes is definitely possible, and a relatively small example of how to do this is shown in <a href="http://www.velvet-star.com/qt/">this post</a> by Tiffany Chong and Valencia Hare.</p>
]]></content:encoded>
			</item>
		<item>
		<title>Bookmarks in terminal</title>
		<link>2011/11/01/bookmarks-in-terminal/</link>
		<pubDate>Tue, 01 Nov 2011 12:02:34 +0000</pubDate>
		<dc:creator><![CDATA[Svenn-Arne Dragly]]></dc:creator>
				<category><![CDATA[Bookmarks]]></category>
		<category><![CDATA[Computational Physics]]></category>
		<category><![CDATA[Featured]]></category>
		<category><![CDATA[Linux]]></category>
		<category><![CDATA[Terminal]]></category>
		<category><![CDATA[Ubuntu]]></category>

		<guid isPermaLink="false">http://dragly.org/?p=567</guid>
		<description><![CDATA[Today I found a great tool to ease the navigation in terminal, called apparix. It lets you bookmark a folder so that you easily can navigate to it just by typing to nameofbookmark To install apparix in Ubuntu, type sudo &#8230; <a href="http://dragly.org/2011/11/01/bookmarks-in-terminal/">Continue reading <span>&#8594;</span></a>]]></description>
				<content:encoded><![CDATA[<p>Today I found a great tool to ease the navigation in terminal, called apparix. It lets you bookmark a folder so that you easily can navigate to it just by typing</p>
<pre class="brush:shell">to nameofbookmark</pre>
<p>To install apparix in Ubuntu, type</p>
<pre class="brush:shell">sudo apt-get install apparix</pre>
<p>in a terminal window.</p>
<p>After installation you need to set up the aliases “bm” for bookmarking and “to” for going to a bookmark by adding a few functions to your .bashrc file in your home folder (if you don’t have this file, you can create it yourself).</p>
<p>You’ll find the functions you need to add by issuing the command</p>
<pre class="brush:shell">apparix --shell-examples</pre>
<p>in a terminal window. Copy everything below “Bash-style functions” except the “CSH-style aliases”. Paste this into your .bashrc file.</p>
<p>Open up a new terminal, cd to your directory of choice and type</p>
<pre class="brush:shell">bm mybookmark</pre>
<p>to bookmark the folder. Afterwards you can go to any folder and type</p>
<pre class="brush:shell">to mybookmark</pre>
<p>to go to your bookmark.</p>
<p>This tool is of course available for other Linux distributions too.</p>
]]></content:encoded>
			</item>
		<item>
		<title>Forgot that LaTeX symbol? Use Detexify to find it for you</title>
		<link>2011/09/10/forgot-that-latex-symbol-use-detexify-to-find-it-for-you/</link>
		<pubDate>Sat, 10 Sep 2011 17:52:05 +0000</pubDate>
		<dc:creator><![CDATA[Svenn-Arne Dragly]]></dc:creator>
				<category><![CDATA[Computational Physics]]></category>
		<category><![CDATA[Featured]]></category>
		<category><![CDATA[LaTeX]]></category>

		<guid isPermaLink="false">http://dragly.org/?p=530</guid>
		<description><![CDATA[I just came over this website called Detexify that helps you figure out the name of a symbol based on your drawing of it. With most the symbols I tested, it managed to suggest correctly the symbol I was trying &#8230; <a href="http://dragly.org/2011/09/10/forgot-that-latex-symbol-use-detexify-to-find-it-for-you/">Continue reading <span>&#8594;</span></a>]]></description>
				<content:encoded><![CDATA[<p>I just came over this website called <a href="http://detexify.kirelabs.org/">Detexify</a> that helps you figure out the name of a symbol based on your drawing of it. With most the symbols I tested, it managed to suggest correctly the symbol I was trying to draw. Quite impressive, and very useful!</p>
<p><a href="http://detexify.kirelabs.org/">detexify.kirelabs.org</a></p>
<p>Try it out for yourself. <img class="wp-smiley" src="http://dragly.org/wp-includes/images/smilies/icon_smile.gif" alt=":)" /></p>
]]></content:encoded>
			</item>
	</channel>
</rss>
